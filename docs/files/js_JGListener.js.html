<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js/JGListener.js - Abl.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Abl.js" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/JGListener.html">JGListener</a></li>
                                <li><a href="../classes/nodeMain.html">nodeMain</a></li>
                                <li><a href="../classes/Parser.html">Parser</a></li>
                                <li><a href="../classes/UnitTests.ablExpressionTests.html">UnitTests.ablExpressionTests</a></li>
                                <li><a href="../classes/UnitTests.ablLiteralTests.html">UnitTests.ablLiteralTests</a></li>
                                <li><a href="../classes/UnitTests.ABLVariableDeclarationTests.html">UnitTests.ABLVariableDeclarationTests</a></li>
                                <li><a href="../classes/UnitTests.actionRegistrationTests.html">UnitTests.actionRegistrationTests</a></li>
                                <li><a href="../classes/UnitTests.conflictDeclarationTests.html">UnitTests.conflictDeclarationTests</a></li>
                                <li><a href="../classes/UnitTests.constantDeclarationTests.html">UnitTests.constantDeclarationTests</a></li>
                                <li><a href="../classes/UnitTests.importDeclarationTests.html">UnitTests.importDeclarationTests</a></li>
                                <li><a href="../classes/UnitTests.packageImportTests.html">UnitTests.packageImportTests</a></li>
                                <li><a href="../classes/UnitTests.paramsTests.html">UnitTests.paramsTests</a></li>
                                <li><a href="../classes/UnitTests.preconditionTests.html">UnitTests.preconditionTests</a></li>
                                <li><a href="../classes/UnitTests.propertyDeclarationTests.html">UnitTests.propertyDeclarationTests</a></li>
                                <li><a href="../classes/UnitTests.teamNeededForSuccessTests.html">UnitTests.teamNeededForSuccessTests</a></li>
                                <li><a href="../classes/UnitTests.TEMPLATE.html">UnitTests.TEMPLATE</a></li>
                                <li><a href="../classes/UnitTests.testExpressionTests.html">UnitTests.testExpressionTests</a></li>
                                <li><a href="../classes/UnitTests.throwErrorTests.html">UnitTests.throwErrorTests</a></li>
                                <li><a href="../classes/UnitTests.wmeDeclarationTests.html">UnitTests.wmeDeclarationTests</a></li>
                                <li><a href="../classes/UnitTests.wmeFieldTestTests.html">UnitTests.wmeFieldTestTests</a></li>
                                <li><a href="../classes/UnitTests.WMERegistrationTests.html">UnitTests.WMERegistrationTests</a></li>
                                <li><a href="../classes/UnitTests.wmeTestSequenceTests.html">UnitTests.wmeTestSequenceTests</a></li>
                                <li><a href="../classes/UnitTests.wmeTestTest.html">UnitTests.wmeTestTest</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/ABLModule.html">ABLModule</a></li>
                                <li><a href="../modules/ABLParser.html">ABLParser</a></li>
                                <li><a href="../modules/example.html">example</a></li>
                                <li><a href="../modules/UnitTests.html">UnitTests</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: js/JGListener.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
   @module ABLParser
 */
var ABLListener = require(&#x27;./ABLListener&#x27;);

/**
   The JGListener constructor
   @class JGListener
   @constructor
 */
var JGListener = function(){
    //Not ABLListener.call:
    ABLListener.ABLListener.call(this);
    this.parsedStack = [];
    return this;
};

//Not ABLListener.prototype, just ABLListener
//Setup the prototype chain:
JGListener.prototype = Object.create(ABLListener.ABLListener.prototype);
JGListener.prototype.constructor = JGListener;

//------------------------------
//PARSING METHODS:

/**
   Enter the root rule of the ABL Grammar
   Sets up the parsedStack datastructure
   @method enterProg
 */
JGListener.prototype.enterProg = function(ctx){
    this.parsedStack = [];
};

/**
   Parses a package declaration
   @method enterG_package
 */
JGListener.prototype.enterG_package = function(ctx){
    if(ctx.TYPE().getText() === &quot;&lt;missing undefined&gt;&quot;){
        throw new Error(&quot;Package missing TYPE&quot;);
    }

    this.parsedStack.push(//[&quot;package&quot;,ctx.name().getText()]);
        {
            type : &quot;package&quot;,
            name : ctx.TYPE().getText(),
        }
    );
};

/**
   Parses an import statement
   @method enterG_import
*/
JGListener.prototype.enterG_import = function(ctx){
    //console.log(&quot;import name:&quot;, ctx.name().getText());
    for(var x in ctx.TYPE()){
        var importName = ctx.TYPE()[x].getText();
        var star = false;
        if(ctx.STAR()){
            star = true;
            //remove the dot from the name:
            if(importName[importName.length-1] === &quot;.&quot;){
                importName = importName.slice(0,-1);
            }
        }

        if(importName !== &#x27;&lt;missing undefined&gt;&#x27;){
            this.parsedStack.push({
                name : importName,
                type : &quot;importDeclaration&quot;,
                starred : star,
            });
        }
    }
};

/**
   Parses constant declarations
   @method enterConstants
 */
JGListener.prototype.enterConstants = function(ctx){
    for(var x in ctx.TYPE()){
        var importName = ctx.TYPE()[x].getText();
        if(importName !== &#x27;&lt;missing undefined&gt;&#x27;){
            this.parsedStack.push({
                name : importName,
                type : &quot;constantDeclaration&quot;,
            });
        }
    }
};

/**
   Parse team needed statements
   @method enterTeamNeeded
 */
JGListener.prototype.enterTeamNeeded = function(ctx){
    if(ctx.JOINTNEG()&amp;&amp; ctx.TEAMNEEDED()){
        this.parsedStack.push({
            teamNeeded : true,
            oneNeeded : false,
            type : &quot;teamNeededForSuccessDeclaration&quot;
            
        });
    }else if(ctx.JOINTNEG() &amp;&amp; ctx.ONENEEDED()){
        this.parsedStack.push({
            teamNeeded : false,
            oneNeeded : true,
            type : &quot;teamNeededForSuccessDeclaration&quot;
        });
    }
};

/**
   Parse Conflict Declarations
   @method enterConflictDecl
 */
JGListener.prototype.enterConflictDecl = function(ctx){
    console.log(&quot;conflict Dec:&quot;);
    var secondObj = [];
    for(var i = 1; i &lt; ctx.name().length; i++) {
        if(ctx.name(i).getText() != &#x27;&lt;missing undefined&gt;&#x27;){
            secondObj.push(ctx.name(i).getText());
        }
    }

    if(secondObj.length &gt; 0){
        var newObj = {
            type : &quot;conflictDeclaration&quot;,
            first : ctx.name(0).getText(),
            second : secondObj,
        };

        this.parsedStack.push(newObj);
    }
};

/**
   parse wmeRegistration
   @method enterWmeRegistration
 */
JGListener.prototype.enterWmeRegistration = function(ctx){

    if(ctx.TYPE(0).getText() !== &#x27;&lt;missing undefined&gt;&#x27; &amp;&amp; ctx.TYPE(1).getText() !== &#x27;&lt;missing undefined&gt;&#x27;){
        this.parsedStack.push({
            type : &quot;WMERegistration&quot;,
            wmeType : ctx.TYPE(0).getText(),
            target : ctx.TYPE(1).getText(),
        });
    }
};

exports.JGListener = JGListener;


    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
